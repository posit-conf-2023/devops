<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/quarto-contrib/posit_slides/posit-slides.js"></script><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>Devops for Data Scientists</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="white" data-background-image="_extensions/positconfslides/assets/backgrounds/toc-light.svg" data-background-size="contain" class="quarto-title-block">
  <h1 class="title">Devops for Data Scientists</h1>
  <p class="subtitle">wifi name:xyz wifi password:123</p>

<div class="quarto-title-authors">
</div>

</section>
<section class="slide level2">
<h2>Part 1: Introductions, setup, &amp; workshop overview</h2>
</section>
<section class="slide level2">
<h2>Workshop Goals</h2>
<ul>
<li><p>To understand how devops can help you in your work as data scientists</p></li>
<li><p>To understand the main principles of Devops</p></li>
<li><p>To get hands-on experience putting code into production using common devops workflows</p></li>
<li><p>To leave the workshop with some “assets” and skills you can use in your work</p></li>
</ul>
</section>
<section class="slide level2 scrollable">
<h2>Agenda &amp; Lab Overview</h2>
<table>
<thead>
<tr class="header">
<th>Section/Time</th>
<th>Topics</th>
<th>Labs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Part 1</td>
<td><p>Workshop overview</p>
<p>Logistics &amp; setup</p>
<p>Introductions</p></td>
<td><p>Infrastructure &amp; wifi setup</p>
<p>Optional: Linux Refresher</p></td>
</tr>
<tr class="even">
<td>Part 2: Devops Principles</td>
<td><p>Introduction to devops</p>
<p>Version control &amp; github</p>
<p>CI/CD</p>
<p>Reproducing workflows and environments</p></td>
<td>Lab 1: Deploy your own Quarto website on Github Pages using GitHub Actions CI/CD</td>
</tr>
<tr class="odd">
<td>Part 3: Docker for Data Scientists</td>
<td><p>How and why data scientists use docker in production</p>
<p>Docker: overview and architecture</p>
<p>Building docker images and containers</p>
<p>Ports &amp; networking</p></td>
<td>Lab #2: Write your own Dockerfile to deploy Open Source Shiny Server on <a href="https://labs.play-with-docker.com/">Docker playground</a> and host an app on the server</td>
</tr>
<tr class="even">
<td>Part 4: Data Science in Production</td>
<td><p>Choosing your deployment method</p>
<p>APIs and when to use them</p>
<p>Just enough auth</p>
<p>Logging &amp; metrics &amp; testing</p></td>
<td>Lab #3: Create an API wrapper around a trained prediction model and host it on Posit Connect</td>
</tr>
<tr class="odd">
<td>Part 5: Discussion</td>
<td><p>Course feedback</p>
<p>Questions for the team</p>
<p>Working with other teams</p></td>
<td>None</td>
</tr>
</tbody>
</table>
</section>
<section class="slide level2">
<h2>Supplemental Materials</h2>
<ul>
<li>Linux</li>
<li>vim</li>
<li>Git</li>
<li>Cheat sheets</li>
</ul>
</section>
<section class="slide level2">
<h2>Most important workshop commands</h2>
<ul>
<li>cd</li>
<li>ls</li>
<li>pwd</li>
<li>touch</li>
<li>mkdir</li>
<li>vim</li>
<li>curl</li>
<li>echo</li>
<li>env</li>
<li>$PATH</li>
</ul>
</section>
<section class="slide level2">
<h2>What we won’t cover</h2>
<ul>
<li><p>How to become a devops engineer</p></li>
<li><p>Python-based workflows</p></li>
<li><p>In-depth security and auth practices</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Meet your instructors</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Rika</a></li><li><a href="#tabset-1-2">Andrie</a></li><li><a href="#tabset-1-3">David</a></li><li><a href="#tabset-1-4">Gagan</a></li><li><a href="#tabset-1-5">Sam</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<p><img data-src="images/rika_bio-01.jpeg" style="width:25.0%"></p>
<ul>
<li><p>Solutions Engineer at Posit</p></li>
<li><p>Former Data Scientist and Data Engineer</p></li>
</ul>
</div>
<div id="tabset-1-2">

</div>
<div id="tabset-1-3">
<p><img data-src="images/edavidaja.jpeg" style="width:25.0%"></p>
<ul>
<li>David Aja is a Solutions Engineer at Posit. Before joining Posit, he worked as a data scientist in the public sector.</li>
</ul>
</div>
<div id="tabset-1-4">
<p><img data-src="images/gagan.png" style="width:25.0%"></p>
<ul>
<li>Gagandeep Singh is a former software engineer and data scientist who has worked in a variety of cross-technology teams before joining Posit as a Solutions Engineer.</li>
</ul>
</div>
<div id="tabset-1-5">
<p><img data-src="images/sam-workweek-2023-large.jpeg" style="width:25.0%"></p>
<ul>
<li>Sam Edwardes is a Solutions Engineer at Posit. He is passionate about open source software and data science. Before joining Posit Sam consulted for many different companies as a Consultant at Deloitte.</li>
</ul>
</div>
</div>
</div>
</section>
<section class="slide level2">
<h2>Solutions Engineering at Posit</h2>

<img data-src="images/sol-eng.png" style="width:25.0%" class="r-stretch"><ul>
<li><p>Posit’s Solutions Engineering team aims to shrink the distance between the needs of Posit’s customers and our Pro and Open Source offerings, leading with curiosity and technical excellence.</p></li>
<li><p>Our customer-facing work helps our customers deploy, install, configure, and use our Pro products.</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Special Thanks to Alex Gold!</h2>
<p><img data-src="images/_40A8864.jpg" width="206" height="140"></p>
<p>Author of <a href="www.do4ds.com">Devops for Data Science</a></p>
<p>Posit Solutions Engineering Team Director</p>
</section>
<section class="slide level2">
<h2>Introduce yourself to your neighbor</h2>
<p>Take 5 minutes and introduce yourself to your neighbors.</p>
<ul>
<li><p>How do you think devops can help you in your work?</p></li>
<li><p>What are you most looking forward to in the conference?</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Word Cloud</h2>
</section>
<section class="slide level2" data-background-image="_extensions/positconfslides/assets/backgrounds/toc-people-dark.svg" data-background-size="contain">
<h2></h2>
<div class="columns has-dark-background">
<div class="column" style="width:100%;">
<h2>Logistics &amp; Workshop Setup</h2>
</div>
</div>
</section>
<section class="slide level2" data-background-image="_extensions/positconfslides/assets/backgrounds/brackets-light.svg" data-background-size="contain">
<h2></h2>
<div class="columns">
<div class="column" style="width:100%;">
<h2>Pre-workshop Install</h2>
<p>We encourage you to set up the following systems prior to the start of the workshop. We will also set aside time during the workshop to install and troubleshoot.</p>
<ol type="1">
<li>Install <a href="https://git-scm.com/downloads">git</a> on your laptop. You can check if git is already installed by typing <code>git --version</code> in the terminal.</li>
<li>If you do not have a github account please create a <a href="https://docs.github.com/en/get-started/signing-up-for-github/signing-up-for-a-new-github-account">personal</a> account.</li>
<li>Make sure that you have a text editor that you are comfortable using. For example, Rstudio <a href="https://www.rstudio.com/categories/rstudio-ide/">IDE</a>, <a href="https://code.visualstudio.com/download">vscode</a>, <a href="https://www.sublimetext.com/3">sublime</a>.</li>
<li>Create an account at <a href="https://hub.docker.com/">Docker Hub</a>.</li>
<li>Download <a href="https://www.docker.com/products/docker-desktop/">Docker Desktop</a>.</li>
<li>Download <a href="https://quarto.org/docs/download/">quarto</a>.</li>
<li>Sign up for our workshop Discord channel</li>
</ol>
</div>
</div>
</section>
<section class="slide level2" data-background-image="_extensions/positconfslides/assets/backgrounds/brackets-light.svg" data-background-size="contain">
<h2></h2>
<div class="columns">
<div class="column" style="width:100%;">
<h2>Wifi &amp; Workshop Install</h2>
<p>Wifi Name:</p>
<p>Wifi: Password:</p>
<p>Is your wifi working? If not, let one of the instructors/TA’s know as soon as possible.</p>
</div>
</div>
</section>
<section class="slide level2">
<h2>Workshop Install</h2>
<p>Login to http://rstd.io/class, use the provided username and password and access Posit Workbench and Posit Connect.</p>
<p>Login to Docker Playground with your Docker Hub username and password.</p>
</section>
<section class="slide level2" data-background-image="_extensions/positconfslides/assets/backgrounds/brackets-light.svg" data-background-size="contain">
<h2></h2>
<div class="columns">
<div class="column" style="width:100%;">
<h2>Documentation &amp; Communication</h2>
<ul>
<li>All documents including slides are available at this github <a href="https://github.com/posit-conf-2023/devops">repo</a></li>
<li>We will use the Discord channel for communicating code snippets and answering questions</li>
<li>Place a note on the back of your laptop
<ul>
<li>🟥 - I need help</li>
<li>🟨 - I’m still working</li>
<li>🟩 - I’m done</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section class="slide level2" data-background-image="_extensions/positconfslides/assets/backgrounds/brackets-light.svg" data-background-size="contain">
<h2></h2>
<div class="columns">
<div class="column" style="width:100%;">
<h2>Daily Schedule</h2>
<p>📅 September 17 and 18, 2023<br>
⏰ 09:00 - 17:00<br>
🏨 ROOM: TBD<br>
✍️TBD</p>
<table>
<thead>
<tr class="header">
<th>Time</th>
<th>Topic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>10:30 - 11:00</td>
<td>Break</td>
</tr>
<tr class="even">
<td>12:30 - 13:30</td>
<td>Lunch</td>
</tr>
<tr class="odd">
<td>15:00 - 15:30</td>
<td>Break</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section class="slide level2" data-background-image="_extensions/positconfslides/assets/backgrounds/brackets-light.svg" data-background-size="contain">
<h2></h2>
<div class="columns">
<div class="column" style="width:100%;">
<h2>Code of Conduct</h2>
<p>https://posit.co/code-of-conduct/</p>
</div>
</div>
</section>
<section class="slide level2">
<h2>Part 2 Goals: Devops Principles</h2>
<ul>
<li><p>To understand the main principles of Devops and how they can improve data science workflows</p></li>
<li><p>To get familiar with how the <code>renv</code> package helps create reproducible environments for your R projects.</p></li>
<li><p>To get comfortable using the terminal for interacting with git and github.</p></li>
<li><p>To understand how to authenticate to github using SSH or HTTPS.</p></li>
<li><p>To practice writing and reading a yaml file.</p></li>
<li><p>To understand the basics of a quarto website.</p></li>
<li><p>To deploy a quarto site to Github Pages using Github Actions for Continuous Deployment.</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Principles and History of Devops</h2>

<img data-src="images/Screenshot 2023-08-29 at 3.32.37 PM.png" width="586" class="r-stretch"><ul>
<li><p>Collaboration</p></li>
<li><p>Continuous Integration &amp; Delivery</p></li>
<li><p>Automation</p></li>
<li><p>Reproducibility</p></li>
<li><p>Culture change</p></li>
</ul>
<aside class="notes">
<p><strong>Many way of defining but at its core -</strong></p>
<p><strong>DevOps</strong> is a combination of cultural philosophies, practices, and tools intended to integrate the work that development and operations team do.</p>
<p>Let’s go back to early 2000s, developers are working on creating applications and adding features, when that’s done, its thrown over the fence to the ops team who is in charge of maintaining, scaling, and securing the applications -</p>
<p><strong>What are some of the problems that arise:</strong></p>
<p>-But Developers often siloed from operations teams resulting in miscommunication and inefficient processes</p>
<p>-monolithic environments made it difficult to quickly iterate and deploy</p>
<p>-all the processes are manual, opaque, error prone - explain the manual bit</p>
<p>-Software stacks used different languages, frameworks, databases</p>
<p>-conflict of interest and diff incentives - new features vs stability and security</p>
<p>-Ultimately it resulted in stretching release period for days or even months</p>
<p><strong>Devops for the win!</strong></p>
<ul>
<li>Development of system of practice in the late 2000’s in software and IT online communities with the goal of improving the application release process by integrating the work of the two teams</li>
</ul>
<p>But why should we as data scientists care about this?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="footer">
<p>Illustration &amp; Definition credit:Gitlab, https://about.gitlab.com/topics/devops/</p>
</div>
</section>
<section class="slide level2">
<h2>Has this ever happened to you?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><span class="fragment" data-fragment-index="1">You come back to code from a year ago and now it doesnt run!</span></p>
</div><div class="column" style="width:50%;">
<p><span class="fragment" data-fragment-index="2" style="color: blue;">Reproduce your environment</span></p>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p><span class="fragment" data-fragment-index="3">You need to hand off your model to the Engineering team but they only code in Java</span></p>
</div><div class="column" style="width:50%;">
<p><span class="fragment" data-fragment-index="4" style="color: blue;">Create an API</span></p>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p><span class="fragment" data-fragment-index="5">Your boss asks you to share that Shiny app with a client but the ops team is too busy working on their roadmap to help you deploy it somewhere.</span></p>
</div><div class="column" style="width:50%;">
<p><span class="fragment" data-fragment-index="6" style="color: blue;">Containerize &amp; deploy your code</span></p>
</div>
</div>
</section>
<section class="slide level2">
<h2>Why should data scientists/analysts care about devops?</h2>
<div>
<ul>
<li class="fragment"><p>Data scientists are developers!</p></li>
<li class="fragment"><p>Data science careers have moved from academic sphere to tech and software but education hasnt always followed</p></li>
<li class="fragment"><p>Automation, collaboration, testing can dramatically improve data work and improve reproducibility</p></li>
<li class="fragment"><p>The many hats of a data scientist</p></li>
<li class="fragment"><p>Improve collaboration &amp; communication with other teams</p></li>
</ul>
</div>
</section>
<section class="slide level2">
<h2>Responsibility of the analyst</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/Screenshot 2023-08-22 at 3.26.22 PM.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/Screenshot 2023-09-10 at 12.18.42 PM.png"></p>
</div>
</div>
<aside class="notes">
<p>reproducing your results is called the “cornerstone of science” - replication crisis</p>
<p>2005 essay by John Ioannidis in scientific journal on crisis in scientific publishing, argument that majority medical research studies cannot be replicated.</p>
<p>Solo, siloed investigator limited to small sample sizes No preregistration of hypotheses being tested Post-hoc cherry picking of hypotheses with best P values Only requiring P &lt; .05 No replication No data sharing</p>
<p><strong>27271</strong> Notebooks:</p>
<ul>
<li><p><strong>11454</strong> could not declare dependencies</p></li>
<li><p><strong>5429</strong> could not successfully install declared dependencies</p></li>
<li><p><strong>9185</strong> returned an error when ran</p></li>
<li><p><strong>324</strong> returned a different result than originally reported</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Devops Toolkit</h2>
<ul>
<li>CI/CD</li>
<li>Environment Management</li>
<li>Package Management</li>
<li>Version Control &amp; Git workflows</li>
<li>Automated Build tools
<ul>
<li>YAML</li>
<li>Dedicated cloud &amp; CI/CD platforms</li>
<li>Infrastructure as Code</li>
</ul></li>
<li>Container Orchestration</li>
<li>Continuous Monitoring and testing</li>
</ul>
<aside class="notes">
<p>build tools for automating workflows, creating configurations for those workflows, and tools to reproduce environments consistently across workflows</p>
<p>discuss these very very briefly</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>The CI/CD Pipeline</h2>

<img data-src="images/cicd.png" class="r-stretch"><aside class="notes">
<ul>
<li>an iterative cycle of small steps to quickly build, test, and deploy your code -CI/CD is a critical component tof making devops happen. -CI/CD comprises of an iterative cycle continuous integration and continuous delivery or continuous deployment. -Put together, they form a “CI/CD pipeline”—a series of automated workflows that help DevOps teams cut down on manual tasks:</li>
</ul>
<p>-Continuous integration (CI) automatically builds, tests, and commit code changes into a shared repository; Developer writes code and commits to a repo like github. This triggers an automatic process where the code is built, tested and then either passes or fails.</p>
<p>-Continuous delivery (CD) delivers code changes to production-ready environments for approval; final step is sometimes manual</p>
<p>-Continuous deployment (CD) automatically deploys code changes to customers directly. All code based - not manual</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2 smaller">
<h2>Environment Management</h2>
<aside class="notes">
<p>Content is deployed (and code is promoted) across different environments with different intended audiences.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<table style="width:99%;">
<colgroup>
<col style="width: 39%">
<col style="width: 41%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Dev</th>
<th>Test</th>
<th>Prod</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>a place for data scientists to do exploratory analysis and experiment</p>
<p>often just your local desktop</p>
<p>data science “sandbox” with data that’s as close to real as possible</p>
<p>access to R/Python packages</p></td>
<td><p>as similar to prod as possible</p>
<p>code testing</p>
<p>data validation</p>
<p>in software dev world includes integration, unit, and regression testing</p></td>
<td><p>separate from dev and test</p>
<p>created using code</p>
<p>code promotion process + tests</p>
<p>completely automatic</p></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level2">
<h2>Version Control &amp; Workflows</h2>

<img data-src="images/Screenshot 2023-08-23 at 11.20.04 AM.png" class="r-stretch"><aside class="notes">
<p>Version control is a main tool for Continuous Integration -</p>
<p>lots of variants - giit, github., svn, gitlab, etc</p>
<p>distributed version control - everyone has their own repo</p>
<p>can track changes and roll them back</p>
<p>can fix merge conflicts</p>
<p>an an iterative process to build, test, collaborate on your code to above environments. Very commonly, individuals work on separate branches that are then tested and reviewed by colleagues before they are merged into a main branch.</p>
<p>In addition to the action of promoting your code - its also important to have processes in place for how it happens code reviews, process for your team, how to name things, pull requests, version control with git, feature branching, automatic tests</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Lab Activity</h2>
<p>🟥 - I need help</p>
<p>🟨 - I’m still working</p>
<p>🟩 - I’m done</p>
<p>Login to pos.it/class with code <code>conftest</code> and create an account with your name and email</p>
<p>Complete Part 1 of Lab - add link</p>
</section>
<section class="slide level2">
<h2>Reproducing your environment</h2>
<p>What are the layers that need to be reproduced across your dev, test, and prod environments?</p>
<p>In your day-to-day work, what’s the hardest reproducibility challenge?</p>
</section>
<section class="slide level2">
<h2>Layers of reproducibility</h2>
<table style="width:62%;">
<colgroup>
<col style="width: 15%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="header">
<th>Layer</th>
<th>Contents</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Code</td>
<td>scripts, configs, applications</td>
</tr>
<tr class="even">
<td>Packages</td>
<td>R + Python Packages</td>
</tr>
<tr class="odd">
<td>System</td>
<td><p>R + Python Language Versions</p>
<p>System Libraries</p>
<p>Operating System + dependencies</p></td>
</tr>
<tr class="even">
<td>Hardware</td>
<td><p>Virtual Hardware</p>
<p>Physical Hardware</p></td>
</tr>
</tbody>
</table>
<aside class="notes">
<ul>
<li>Let’s say someone wanted to reproduce your project including your code and your environment. Make a list of the layers that would need to be reproduced on their machine. (For example, a layer would be the version of R that you’re using)</li>
</ul>
<p>options(“repos”) Run .libPaths()</p>
<ul>
<li><p>Hints:</p>
<ul>
<li>Inspect your renv.lock file.</li>
<li>Where are your packages being pulled from? Confirm by typing <code>options("repos")</code>.
<ul>
<li>You can modify your package repository by running <code>options("repos" = c("&lt;REPO-NAME&gt;" = "https://your-repository-url.com"))</code> in your RStudio console.</li>
</ul></li>
<li>Visit the webpage where packages are being pulled from and see if you can identify package dependencies. Are packages downloaded as binaries or from source?</li>
<li>What are your server and OS dependencies? (If you are not sure which distribution of Linux you are using, you can find it by typing <code>cat /etc/*-release</code> in your terminal)</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Mechanisms for reproducibility</h2>
<p>** make this a diagram starting from least to most reproducibility</p>
<ul>
<li><p>documenting state &amp; version control</p></li>
<li><p>virtual environments (<code>renv</code>, <code>venv</code>) + package management</p></li>
<li><p>Containerization &amp; docker</p></li>
<li><p>Infrastructure as Code</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Packages vs.&nbsp;Libraries vs.&nbsp;Repositories</h2>
<p><strong>Package</strong> - contains code, functions, data, and documentation.</p>
<p><strong>Library</strong> - is a directory where packages are installed.</p>
<p><strong>Repository</strong> - a collection of packages. CRAN is a public external repository that is a network of servers that distribute R along with R packages.</p>
<aside class="notes">
<p>packages - Can be be distributed as SOURCE (a directory with all package components), <a href="https://solutions.posit.co/envs-pkgs/environments/repositories/index.html#binary-packages">BINARIES</a> (contains files in OS-specific format) or as a BUNDLE (compressed file containing package components, similar to source).</p>
<p>library - You can have user-level or project-level libraries. Run <code>.libPaths()</code> to see yours. To use a package in has to be installed in a library with <code>install.packages()</code> and then loaded into memory with <code>library(x)</code> .</p>
<p>repo - others include pypi, bioconducter, private repos</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Renv workflow</h2>

<img data-src="images/Screenshot 2023-09-06 at 8.31.22 PM.png" class="r-stretch"><aside class="notes">
<ol type="1">
<li><p>Use a version control system e.g.<a href="https://git-scm.com/">git</a> with <a href="https://github.com/">GitHub</a></p></li>
<li><p>One user (perhaps yourself) should explicitly initialize <code>renv</code> in the project, via <a href="https://rstudio.github.io/renv/reference/init.html"><code>renv::init()</code></a>. This will create the initial <code>renv</code> lockfile, and also write the <code>renv</code> auto-loaders to the project’s <code>.Rprofile</code> and <code>renv/activate.R</code>. These will ensure the right version of <code>renv</code> is downloaded and installed for your collaborators when they start in this project.</p></li>
<li><p>Using a branching strategy push your code alongside the generated lockfile <code>renv.lock</code>. Be sure to also share the generated auto-loaders in <code>.Rprofile</code> and <code>renv/activate.R</code>.</p></li>
<li><p>When a collaborator first launches in this project, <code>renv</code> should automatically bootstrap itself, thereby downloading and installing the appropriate version of <code>renv</code> into the project library. After this has completed, they can then use <a href="https://rstudio.github.io/renv/reference/restore.html"><code>renv::restore()</code></a> to restore the project library locally on their machine.</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Example</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/rikagorn/Desktop/GIT_CLONE/devops/renv/library/R-4.2/aarch64-apple-darwin20"                 
[2] "/Users/rikagorn/Library/Caches/org.R-project.R/R/renv/sandbox/R-4.2/aarch64-apple-darwin20/fd29d0b8"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>- Linking packages into the project library ... Done!
The following package(s) will be updated in the lockfile:

# CRAN -----------------------------------------------------------------------
- base64enc     [* -&gt; 0.1-3]
- bslib         [* -&gt; 0.4.0]
- cachem        [* -&gt; 1.0.6]
- cli           [* -&gt; 3.6.1]
- digest        [* -&gt; 0.6.29]
- ellipsis      [* -&gt; 0.3.2]
- evaluate      [* -&gt; 0.16]
- fastmap       [* -&gt; 1.1.0]
- fontawesome   [* -&gt; 0.5.0]
- fs            [* -&gt; 1.6.2]
- glue          [* -&gt; 1.6.2]
- highr         [* -&gt; 0.9]
- htmltools     [* -&gt; 0.5.4]
- jquerylib     [* -&gt; 0.1.4]
- jsonlite      [* -&gt; 1.8.2]
- knitr         [* -&gt; 1.40]
- lifecycle     [* -&gt; 1.0.3]
- magrittr      [* -&gt; 2.0.3]
- memoise       [* -&gt; 2.0.1]
- R6            [* -&gt; 2.5.1]
- rappdirs      [* -&gt; 0.3.3]
- rlang         [* -&gt; 1.1.1]
- sass          [* -&gt; 0.4.6]
- stringi       [* -&gt; 1.7.8]
- stringr       [* -&gt; 1.5.0]
- tinytex       [* -&gt; 0.42]
- vctrs         [* -&gt; 0.6.3]
- xfun          [* -&gt; 0.39]
- yaml          [* -&gt; 2.3.5]

# RSPM -----------------------------------------------------------------------
- renv          [* -&gt; 1.0.2]
- rmarkdown     [* -&gt; 2.24]

The version of R recorded in the lockfile will be updated:
- R             [* -&gt; 4.2.1]

- Lockfile written to "~/Desktop/GIT_CLONE/devops/slides/renv.lock".</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>- The lockfile is already up to date.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
 [1] "base64enc"   "bslib"       "cachem"      "cli"         "digest"     
 [6] "ellipsis"    "evaluate"    "fastmap"     "fontawesome" "fs"         
[11] "glue"        "highr"       "htmltools"   "jquerylib"   "jsonlite"   
[16] "knitr"       "lifecycle"   "magrittr"    "memoise"     "R6"         
[21] "rappdirs"    "renv"        "rlang"       "rmarkdown"   "sass"       
[26] "stringi"     "stringr"     "tinytex"     "vctrs"       "xfun"       
[31] "yaml"       

[[2]]
 [1] "base"       "boot"       "class"      "cluster"    "codetools" 
 [6] "compiler"   "datasets"   "foreign"    "graphics"   "grDevices" 
[11] "grid"       "KernSmooth" "lattice"    "MASS"       "Matrix"    
[16] "methods"    "mgcv"       "nlme"       "nnet"       "parallel"  
[21] "rpart"      "spatial"    "splines"    "stats"      "stats4"    
[26] "survival"   "tcltk"      "tools"      "utils"     </code></pre>
</div>
</div>
<div class="footer">
<p>🔍 Live code</p>
</div>
</section>
<section class="slide level2">
<h2>Lab Activity</h2>
<p>🟥 - I need help</p>
<p>🟨 - I’m still working</p>
<p>🟩 - I’m done</p>
<p>Complete Part 2 of Lab: Deploy Quarto with GHA including the exercises</p>
</section>
<section class="slide level2">
<h2>Build tools</h2>
<aside class="notes">
<p>tools that automate the process of building and deploying your code once it goes from your dev env to test and prod</p>
<p>Tools include config files, <code>config</code> package, CI/CD software such as GHA, automatic tests</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>

<img data-src="images/Screenshot 2023-08-23 at 2.49.21 PM.png" class="r-stretch"><div class="footer">
<p>Illustration credit:</p>
</div>
</section>
<section class="slide level2">
<h2>Power of YAML</h2>
<ul>
<li><p>YAML Ain’t Markup Language</p></li>
<li><p>communication of data between people and computers.</p></li>
<li><p>human friendly</p></li>
<li><p>everything is a key value pair and interpreted as maps or dictionaries</p></li>
<li><p>used for configuration files across many execution environments including Docker, virtual machines, K8s, helm, IaaS, etc</p></li>
</ul>
</section>
<section class="slide level2 smaller">
<h2>XML</h2>
</section>
<section class="slide level2 smaller">
<h2>JSON</h2>
</section>
<section class="slide level2">
<h2>YAML</h2>
</section>
<section class="slide level2">
<h2>YAML syntax</h2>
<ul>
<li><p>whitespace indentation is used to denote structure, no need for quotes nor brackets</p></li>
<li><p>Colons separate keys and their values</p></li>
<li><p>Dashes are used to denote a list</p></li>
</ul>
<p>https://github.com/sd031/yaml-crash-course/blob/main/full_example.yaml</p>
</section>
<section class="slide level2">
<h2>Examples</h2>
<ul>
<li>https://github.com/rstudio/rstudio-docker-products/blob/dev/docker-compose.yml</li>
<li>https://github.com/Rikagx/personal-website/blob/main/.github/workflows/publish.yaml</li>
</ul>
<div class="footer">
<p>🔍 Live code</p>
</div>
</section>
<section class="slide level2">
<h2>Lab Activity</h2>
<p>🟥 - I need help</p>
<p>🟨 - I’m still working</p>
<p>🟩 - I’m done</p>
<p>Inspect your _quarto.yml file and identify what each part of it does using the quarto site.</p>
</section>
<section class="slide level2">
<h2>Is version control secure?</h2>
<ul>
<li>our code is still saved locally</li>
<li>How do we make sure that the code we push to Github (or elsewhere) is secure?</li>
</ul>
</section>
<section class="slide level2">
<h2>A short auth teaser</h2>
<ul>
<li>We can use a variety of data sharing “transfer protocols”</li>
<li>protocols specify what kind of traffic is moving between 2 machines</li>
<li>a port specifies where to direct the traffic</li>
</ul>

<img data-src="images/Screenshot 2023-09-07 at 9.28.32 AM.png" class="r-stretch"><aside class="notes">
<p>whether its email, text, files, etc A port is a virtual point where network connections start and end. Ports are software-based and managed by a computer’s operating system. Ports allow computers to easily differentiate between different kinds of traffic: emails go to a different port than webpages, for instance, even though both reach a computer over the same Internet connection.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Git protocol options</h2>
<table>
<thead>
<tr class="header">
<th>http</th>
<th>https</th>
<th>SSH</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>port 80</td>
<td>port 443</td>
<td>port 22</td>
</tr>
</tbody>
</table>
<p>http - text sent over the internet</p>
<p>https - http encrypted with “SSL/TLS”</p>
<p>SSH - secure shell</p>
<aside class="notes">
<p>hypertext transfer protocol When a web user wants to load or interact with a web page, their web browser sends an HTTP request to the origin server that hosts the website’s files. These requests are essentially lines of text that are sent via the internet.</p>
<p>https : http encrypted with SSL/TLS - digital certificates that establish an encrypted connected</p>
<p>SSH: secure shell, public-key cryptography to authenticate the client, used for remote logins, command line execution</p>
<p>HTTPS is simpler. For most services besides Github, you just have to enter in your username and password, and you’ll be able to push and pull code.</p>
<p>You don’t have to juggle multiple SSH keys around to use multiple devices.</p>
<p>Port 443, which HTTPS uses, is open in basically any firewall that can access the internet. That isn’t always the case for SSH.</p>
<p>The primary downside for most people is that you must enter your Git password/token every time you push. While it gets added to a cache, it’s not configured to cache permanently (though this can be changed). With SSH keys, it just uses the key file on disk every time.</p>
<p>Where SSH takes the lead is with the authentication factor—the key. The length of it alone makes it harder to accidentally leak, and due to it being unwieldy and unique, it’s generally more secure.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Which one should I use</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>https - simpler - username and password or PAT - have to either cache credentials or enter in every time</p>
</div><div class="column" style="width:50%;">
<p>SSH - potentially more secure - uses key for auth - created per machine once</p>
</div>
</div>
</section>
<section class="slide level2">
<h2>Port Examples</h2>

<img data-src="images/ports-01.jpg" class="r-stretch"><aside class="notes">
<p>Each port is associated with a specific process or service.</p>
<p>show ping localhost</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Lab Activity</h2>
<p>🟥 - I need help</p>
<p>🟨 - I’m still working</p>
<p>🟩 - I’m done</p>
<p>Part 3 of Lab: Deploy Quarto with GHA including the exercises</p>
<aside class="notes">
<p>show first part</p>
<p>git config –list git config –global user.name “Your Name” git config –global user.email “youremail@yourdomain.com”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Automation Build Tools</h2>
<ul>
<li>GHA is one tool to automate developer workflows</li>
<li>CI/CD is just one example of these workflows</li>
<li>Runs on github servers</li>
<li>Uses yaml</li>
</ul>

<img data-src="images/Screenshot 2023-09-10 at 1.32.42 PM.png" class="r-stretch"><aside class="notes">
<ul>
<li><p>A github action allows us to create workflows that are triggered by a github action such as a push or pull to a branch</p></li>
<li><p>Build tools + version control in on system</p></li>
<li><p>Parts of a GHA - trigger, job, steps</p></li>
<li><p>Workflows can include tests, markdown renders, shell scripts, cron jobs, or deployments. They can be as simple or as complicated as you need. Open-source community provides a ton of examples of actions.</p></li>
<li><p>Open source collection of “available” actions</p></li>
</ul>
<ol type="1">
<li>In the previous exercise we created a repo - we can use it to see what kind of actions we can create</li>
</ol>
<p>https://github.com/Rikagx/workshop_testing/blob/master/.github/workflows/publish.yaml</p>
<p>github.com/actions https://github.com/r-lib/actions</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Lab Activity</h2>
<p>🟥 - I need help</p>
<p>🟨 - I’m still working</p>
<p>🟩 - I’m done</p>
<p>Part 4 of Lab: Deploy Quarto with GHA including the exercises</p>
</section>
<section class="slide level2">
<h2>Part 3 Goals: Docker for Data Scientists</h2>
<ul>
<li>to understand</li>
</ul>
</section>
<section class="slide level2">
<h2>Introduction to Docker</h2>
<ul>
<li>Open-source tool.</li>
<li>Package applications and its dependencies in a unit called a container.</li>
<li>Create isolated environments for different experiments.</li>
<li>Share work with colleagues without environment setup issues.</li>
</ul>
<aside class="notes">
<p>Docker is a tool that allows you to virtualize (put your computer in the cloud) everything you need to create an application or in this case a data science product You can share containers with colleagues without requiring them to have to set up their own local machines Without something like this, in order to recreate or test code that someone else wrote, you’d need every developer to download the same dependencies, configurations, scripts and make sure that it ran on their machine - whether thats a mac, or windows, or linux or some other operating system</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>How can docker help data scientists?</h2>
</section>
<section class="slide level2">
<h2>Portability</h2>
<ul>
<li>diagram r code creates model/api in docker container</li>
<li>uses gha to create docker image</li>
</ul>
</section>
<section class="slide level2">
<h2>Isolation</h2>
</section>
<section class="slide level2">
<h2>Consistency</h2>
<aside class="notes">
<ul>
<li><p>Data scientists benefit from Docker’s consistency and reproducibility.</p></li>
<li><p>Create isolated environments for different experiments.</p></li>
<li><p>Share work with colleagues without environment setup issues.</p></li>
<li><p><strong>Consistency:</strong> Containers ensure that applications run the same way across different environments.</p></li>
<li><p><strong>Isolation:</strong> Containers isolate applications and their dependencies, preventing conflicts.</p></li>
<li><p><strong>Portability:</strong> Containers can run on any system that supports Docker, reducing “it works on my machine” issues.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Lifecycle</h2>

<img data-src="images/lifecycle.png" class="r-stretch"><div class="footer">
<p>Illustration credit: Alex Gold, do4ds.com</p>
</div>
</section>
<section class="slide level2">
<h2>Lifecycle Example</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="ex">docker</span> pull postgres:12</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="ex">docker</span> pull postgres:latest</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="ex">docker</span> container ls <span class="at">-a</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="ex">docker</span> run <span class="at">-d</span> <span class="at">-e</span> POSTGRES_PASSWORD=mysecretpassword <span class="at">--name</span> postgres_early imageID</span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="ex">docker</span> run <span class="at">-d</span> <span class="at">-e</span> POSTGRES_PASSWORD=mysecretpassword <span class="at">--name</span> postgres_new imageID</span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="ex">docker</span> container ls <span class="at">-a</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="ex">docker</span> stop</span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="ex">docker</span> restart</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="footer">
<p>🔍 Live code</p>
</div>
<aside class="notes">
<p>a dockerfile is the recipe to build a docker images this recipe is stored in some sort of repository, this can be private, public, or dockerhub - which is the default a docker image contains lightweight instructions to create your application. Docker images use something called layers which makes it super easy and quick to update. Layers start at a base layer which is usually the linux operating system and then they go up to the application layer. a container is the environment for a running process of an image - so if an image is running then its using a container instance. You can have multiple containers running at the same time. But once you delete it everything inside of it goes away.</p>
<p>Let’s see an example of what this looks like in practice. Lets say we need to use a postgres sql database for some testing - but we want to test using an older and a newer version of postgres.</p>
<p>Lets go to Dockerhub and search for it. We can see official images but there are also thousands of them created by people- hub only has images not dockerfiles or containers themselves. docker image ls - lets list all the images that we have docker pull postgres:12 - see how its pulling and extracting all these layers - but what if we want a newer version or what if we need to run both versions on our machine</p>
<p>docker pull postgres:latest - notice how some of these layers already exist so it takes a lot less time</p>
<p>Lets go on dockerhub and see if we can understand a bit more about the layers https://hub.docker.com/layers/library/postgres/12/images/sha256-a97fd76ab09599e2ddc15c90a87f9a4a2a60551d99f8e7397f12a1d606d7f0ab?context=explore -</p>
<p>we can see that there are a lot of layers but its hard to understand what exactly is happening - lets look at the dockerfile that shows us the recipe for postgres - this is usually saved in a <a href="https://github.com/docker-library/docs/blob/master/postgres/README.md">github</a> repo - not on dockerhub which is just images</p>
<p>every docker file starts with a from command - this is the base layers that starts the image, then we are running some things, copying , env variables, and starting</p>
<p>lets run the image and see</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Virtual Machine vs.&nbsp;Container</h2>

<img data-src="images/Screenshot 2023-09-03 at 9.56.54 AM.png" class="r-stretch"><aside class="notes">
<p>containers are very lightweight which makes it really easy and quick to spin them up</p>
<p>this is because the container itself doesnt have a host operating system or any hardware - intel chip, apple chip etc - this is in the docker engine or runtime which we will look at in the architecture</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Docker Architecture</h2>

<img data-src="images/Screenshot 2023-08-30 at 11.31.56 AM.png" class="r-stretch"><aside class="notes">
<ul>
<li><p>Docker uses a client-server architecture. The Docker client talks to the Docker daemon.</p></li>
<li><p>The Docker client - is the primary way that users interface with Docker via CLI</p></li>
<li><p>The Docker daemon does the heavy lifting of building, running, and distributing your Docker containers</p></li>
<li><p>The Docker client and daemon can run on the same system, or you can connect a Docker client to a remote Docker daemon. The Docker client and daemon communicate using a REST API, over UNIX sockets or a network interface.</p></li>
<li><p>Registry is a Repository for Docker images (e.g., Docker Hub) where you can store and share images.</p></li>
<li><p>Docker engine is a container runtime that runs on diffrent OS’s. Set up the isolated environment for your container</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Mode for running containers</h2>
<table>
<colgroup>
<col style="width: 20%">
<col style="width: 6%">
<col style="width: 72%">
</colgroup>
<thead>
<tr class="header">
<th>Mode</th>
<th>Run command</th>
<th>Use case</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Detached</td>
<td><code>docker run -d</code></td>
<td>This runs the container in the <strong>background</strong> so the container keeps running until the application process exits, or you stop the container. Detached mode is often used for production purposes.</td>
</tr>
<tr class="even">
<td>Interactive + terminal</td>
<td><code>docker run -it</code></td>
<td>This runs the container in the <strong>foreground</strong> so you are unable to access the command prompt. Interactive mode is often used for development and testing.</td>
</tr>
<tr class="odd">
<td>Remove everything once the container is done with its task</td>
<td><code>docker run --rm</code></td>
<td>This mode is used on foreground containers that perform <strong>short-term tasks</strong> such as tests or database backups. Once it is removed anything you may have downloaded or created in the container is also destroyed.</td>
</tr>
</tbody>
</table>
</section>
<section class="slide level2">
<h2>Lab Activity</h2>
<p>🟥 - I need help</p>
<p>🟨 - I’m still working</p>
<p>🟩 - I’m done</p>
<p>Complete Lab 2: Part 1</p>
</section>
<section class="slide level2">
<h2>Container Debugging</h2>
<ul>
<li><p>Interactive mode</p></li>
<li><p><code>docker exec</code></p></li>
<li><p>Logging</p></li>
</ul>
<pre><code>docker run -it -d ubuntu
docker container ls -a 
docker exec -it CONTAINER_ID bash

docker container run -d --name mydb \
 --name mydb \
 -e MYSQL_ROOT_PASSWORD=my-secret-pw \ 
 mysql
 
 docker container logs mydb</code></pre>
<div class="footer">
<p>🔍 Live code</p>
</div>
</section>
<section class="slide level2">
<h2>Lab Activity</h2>
<p>🟥 - I need help</p>
<p>🟨 - I’m still working</p>
<p>🟩 - I’m done</p>
<p>Complete Lab 2: Part 2</p>
</section>
<section class="slide level2">
<h2>Port Mapping with <code>docker run -p</code></h2>
<pre><code>docker pull httpd:alpine
docker pull httpd:latest

docker inspect --format='{{.Config.ExposedPorts}}' httpd:latest
docker inspect --format='{{.Config.ExposedPorts}}' httpd:alpine

docker run -p DockerHostPort:ApplicationPort

docker run -d -p 81:80 --name httpd-latest httpd:latest
curl http://localhost:81

docker run -d -p 80:80 --name httpd-alpine httpd:alpine
curl http://localhost:80</code></pre>
<div class="footer">
<p>🔍 Live code</p>
</div>
</section>
<section class="slide level2">
<h2>Persisting data with Docker</h2>
<p>Stateless vs.&nbsp;Stateful applications volume mount bind mount external storage shared file system</p>
</section>
<section class="slide level2">
<h2>Putting it all together</h2>
<p>https://github.com/rstudio/rstudio-docker-products/blob/dev/docker-compose.yml</p>
<aside class="notes">
<ul>
<li><strong>docker-compose:</strong> A tool for defining and running multi-container Docker applications.</li>
<li>Uses a YAML file to define services, networks, and volumes.</li>
<li>Simplifies the orchestration of complex applications.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">
<h2>Lab Activity</h2>
<p>🟥 - I need help</p>
<p>🟨 - I’m still working</p>
<p>🟩 - I’m done</p>
<p>Complete Lab 2: Part 3 Complete Lab 2: Part 4</p>
</section>
<section class="slide level2">
<h2>Building Docker Images</h2>
<ul>
<li><p>Images are build using a Dockerfile or interactively “on-the-fly”</p></li>
<li><p>Steps to version and share your images on Dockerhub (or a different repository)</p></li>
</ul>
<p>make this a diagram Step 1: Commit Step 2: Tag Step 3: Push</p>
</section>
<section class="slide level2">
<h2>Lab Activity</h2>
<p>🟥 - I need help</p>
<p>🟨 - I’m still working</p>
<p>🟩 - I’m done</p>
<p>Complete Lab 2: Part 5</p>
</section>
<section class="slide level2">
<h2>Dockerfile Build Commands</h2>
<table>
<thead>
<tr class="header">
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>FROM</td>
<td></td>
</tr>
<tr class="even">
<td>ENV</td>
<td></td>
</tr>
<tr class="odd">
<td>COPY</td>
<td></td>
</tr>
<tr class="even">
<td>RUN</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level2">
<h2>Dockerfile Example</h2>
<p>Walk through Posit Connect <a href="https://github.com/rstudio/rstudio-docker-products/blob/dev/connect/Dockerfile.ubuntu2204">Dockerfile</a></p>
</section>
<section class="slide level2">
<h2>Activity</h2>
<p>Complete Lab 2: Part 6</p>
</section>
<section class="slide level2">
<h2>Part 4: Data Science in Production</h2>
</section>
<section class="slide level2" data-background-image="_extensions/positconfslides/assets/backgrounds/content-dark.svg" data-background-size="contain">
<h2></h2>
<div class="columns has-dark-background">
<div class="column" style="width:100%;">
<h2>Data Science in Production</h2>
<ul>
<li><p>Presentation Layer</p></li>
<li><p>Processing Layer</p></li>
<li><p>Data store Layer</p></li>
</ul>
</div>
</div>
</section>
<section class="slide level2">
<h2>Choosing the right presentation layer</h2>
<ul>
<li><p><a href="https://do4ds.com/chapters/sec1/1-2-proj-arch.html">Alex’s flow chart</a></p></li>
<li><p>credit text</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Production “State”</h2>
<p>Questions to ask once your content is able to be consumed by your intended audience</p>
<ul>
<li><p>Is it reproducible?</p></li>
<li><p>Is it portable?</p></li>
<li><p>Is it maintainable?</p></li>
<li><p>Does it scale?</p></li>
<li><p>Is your code efficiently written?</p></li>
<li><p>Is it secure and accessible?</p></li>
<li><p>Can you trust your code?</p></li>
</ul>
</section>
<section class="slide level2">
<h2>APIs can help</h2>
<ul>
<li><p>RESTful APIs</p></li>
<li><p>a way to access content by non-R users</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Structure of an API</h2>
</section>
<section class="slide level2">
<h2>Activity: Create a Posit Connect API key</h2>
<ul>
<li><p>login to Connect</p></li>
<li><p>create connect key</p></li>
<li><p>use rsconnect to access</p></li>
<li><p>use curl to access</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Creating an API</h2>
<ul>
<li>plumber exercise</li>
</ul>
</section>
<section class="slide level2">
<h2>Securing your application</h2>
<ul>
<li><p>SSL &amp; https</p></li>
<li><p>live code</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Authentication vs.&nbsp;Authorization</h2>
</section>
<section class="slide level2">
<h2>Deploying and hosting your API</h2>
</section>
<section class="slide level2">
<h2>Activity</h2>
<ul>
<li><p>deploy api to connect</p></li>
<li><p>put shiny frontend and call api</p></li>
</ul>
</section>
<section class="slide level2">
<h2>Testing and logging</h2>
</section>
<section class="slide level2">
<h2>Activity</h2>
<ul>
<li>add logging and test to shiny app (if there’s time)</li>
</ul>
</section>
<section class="slide level2">
<h2>Activity</h2>
<ul>
<li>add app to server</li>
</ul>
</section>
<section class="slide level2">
<h2></h2>

<div class="footer footer-default">
<p><a href="https://github.com/posit-conf-2023/devops" class="uri">https://github.com/posit-conf-2023/devops</a></p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>